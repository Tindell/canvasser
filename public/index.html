<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.16/dist/tailwind.min.css" rel="stylesheet">
    <title>Canvas Collection</title>
</head>

<body class="bg-gray-100">
    <canvas id="scully-banner"></canvas>

    <div class="container mx-auto p-4">
        <h1 class="text-2xl font-bold mb-4">Generated Canvases</h1>
        <h2 class="text-lg font-medium mb-4">Here are some examples of canvases generated by GPT-3.5 and GPT-4:</h2>

        <h3>Generated by GPT-3.5</h2>
        <div id="canvas-container-1" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"">
            <!-- Canvas elements and script tags will be inserted here -->
        </div>
        <hr class="my-4">
        <h3>Generated by GPT-4</h2>
        <div id="canvas-container-2" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"">
            <!-- Canvas elements and script tags will be inserted here -->
        </div>
    </div>

    <script>
        // Load the canvases and their respective scripts
        async function loadCanvases() {
            const response1 = await fetch('/load-canvases-1'); // load canvas scripts from the first directory
            const canvasData1 = await response1.json();

            const response2 = await fetch('/load-canvases-2'); // load canvas scripts from the second directory
            const canvasData2 = await response2.json();

            const canvasContainer1 = document.getElementById('canvas-container-1'); // container for the first set of canvases
            const canvasContainer2 = document.getElementById('canvas-container-2'); // container for the second set of canvases

            canvasData1.forEach((data, index) => {
                const canvasDiv = createCanvasDiv(data, index, 'scripts-1'); // pass in the directory name
                canvasContainer1.appendChild(canvasDiv); // append the div element to the first container
            });

            canvasData2.forEach((data, index) => {
                const canvasDiv = createCanvasDiv(data, index, 'scripts-2'); // pass in the directory name
                canvasContainer2.appendChild(canvasDiv); // append the div element to the second container
            });
        }

        function createCanvasDiv(data, index, directory) {
            const canvasDiv = document.createElement('div'); // create a div element for the canvas and its name
            canvasDiv.classList.add('canvas-div');

            const canvasTitleDiv = document.createElement('div'); // create a div element for the canvas title
            canvasTitleDiv.classList.add('canvas-title-div');

            const canvasTitle = document.createElement('p'); // create a paragraph element for the file name
            canvasTitle.textContent = data.scriptName; // set the text content of the file name element

            const canvasTitleInfo = document.createElement('p'); // create a paragraph element for the additional information
            canvasTitleInfo.classList.add('canvas-title-info'); // add a CSS class to the additional information element
            canvasTitleInfo.id = `${directory}-canvas-${index}-title`; // set a unique id for the title element

            const canvas = document.createElement('canvas');
            canvas.id = `${directory}-canvas-${index}`; // use a unique identifier for the canvas id
            canvas.width = 400; // set the width of the canvas to 400 pixels
            canvas.height = 300; // set the height of the canvas to 300 pixels
            canvas.classList.add('bg-white', 'rounded-md', 'shadow-md');

            const script = document.createElement('script');
            script.textContent = `${data.scriptContent}\n(${data.scriptName.split('.')[0]})(document.getElementById('${canvas.id}'), document.getElementById('${canvasTitleInfo.id}'));`;

            canvasTitleDiv.appendChild(canvasTitle); // append the file name element to the title div
            canvasTitleDiv.appendChild(canvasTitleInfo); // append the additional information element to the title div
            canvasDiv.appendChild(canvas); // append the canvas and script element to the canvas div
            canvasDiv.appendChild(canvasTitleDiv); // append the title div to the canvas div
            canvasDiv.appendChild(script);

            return canvasDiv; // return the created div element
        }

        loadCanvases();
    </script>
    <script src="scully.js"></script>

</body>

</html>